#!/usr/bin/env sh
set -e

echo "ğŸ›ï¸ [husky] Starting pre-commit checks..."

echo "ğŸ§¹ Running Knip (unused files & exports check)..."
pnpm exec knip || echo "âš ï¸ Knip found unused files"

cd client || exit 1

echo "ğŸ§ª Running ESLint..."
pnpm exec eslint ./src --ext .js,.ts,.jsx,.tsx --fix

echo "ğŸ” Checking for TypeScript errors..."
pnpm run type-check

echo "ğŸ“Œ Restaging changed files..."
git add ./src

echo "âœ… Pre-commit checks complete."
