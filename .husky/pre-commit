#!/usr/bin/env sh

# ğŸ¶âœ¨ Husky x Biome: Code Check Jamâ„¢ ğŸ§ğŸ§ª

echo ""
echo "ğŸ›ï¸ [husky] Booting beats, no bugs allowed..."
echo "ğŸ” [sys] Peeking under the OS cloud..."

IS_LINUX=false

case "$(uname -s)" in
  Linux*)     IS_LINUX=true ;;
  *)          IS_LINUX=false ;;
esac

if [ "$IS_LINUX" = true ]; then
  RUN="sudo pnpm"
  echo "ğŸ§ [env] Linux power â€” root on the hour â±ï¸"
else
  RUN="pnpm"
  echo "ğŸ [env] Mac or Windows â€” smooth like wind flows ğŸ’¨"
fi

echo ""
echo "ğŸ§  [biome] Spinning up scans like a data DJ..."
echo "ğŸ§ª [lint] Checking code before it goes cray."

$RUN biome lint --write ./src
echo "âœ… [check] Bars aligned â€” your syntax is refined ğŸ› ï¸"

echo ""
echo "ğŸ¨ [format] Brushing your files with that pixel-perfect feel..."
$RUN biome format --write ./src
echo "âœ¨ [shine] Lines divine â€” your code's dressed to kill ğŸ§¥"

echo ""
echo "ğŸš€ [husky] Mic drop: checks are done, no bugs in sight."
echo "ğŸ¤ [done] Push with pride â€” your code's airtight. âœ…"
echo ""
